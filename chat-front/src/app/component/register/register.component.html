<div class="parent-register">
  <app-back [path]="'/'"></app-back>
  <div class="center">
    <h1>Inscription</h1>
    <form class="register-form" [formGroup]="form" (ngSubmit)="register()">
      <div class="d-flex flex-column">
        <p class="mb-0">Nom d’utilisateur</p>
        <div class="input-group mb-3">
          <input type="text" class="form-control" formControlName="username" aria-label="username">
        </div>
        @if(form.get('username')?.touched && form.get('username')?.invalid && form.get('username')?.errors?.['required']){
          <div class="mt--3">
            <small class="text-danger">
              Le nom d'utilisateur est requis.
            </small>
          </div>
        }
      </div>
      <div class="d-flex flex-column">
        <p class="mb-0">E-mail</p>
        <div class="input-group mb-3">
          <input type="text" class="form-control" formControlName="email" aria-label="email">
        </div>
        @if(form.get('email')?.touched && form.get('email')?.invalid){
          <div class="mt--3">
            @if(form.get('email')?.errors?.['required']){
              <small class="text-danger">
                L'e-mail est requis.
              </small>
            }
            @if(form.get('email')?.errors?.['email']){
              <small class="text-danger">
                L'e-mail n'est pas valide.
              </small>
            }
          </div>
        }
      </div>

      <div class="d-flex flex-column">
        <p class="mb-0">Mot de passe</p>
        <div class="input-group mb-3">
          <input type="password" class="form-control" formControlName="password" aria-label="password">
        </div>
        @if(form.get('password')?.touched && form.get('password')?.invalid){
          <div class="mt--3">
            @if(form.get('password')?.errors?.['required']){
              <small class="text-danger">
                Le mot de passe est requis.
              </small>
            }
            @if(form.get('password')?.errors?.['pattern']){
              <small class="text-danger">
                Le mot de passe doit contenir au moins 8 caractères, incluant une majuscule, une minuscule, un chiffre et un caractère spécial.
              </small>
            }
          </div>
        }
      </div>

      <div class="d-flex justify-content-center">
        <button type="submit" id="button-mdd" class="w-80" mat-flat-button>S'inscrire</button>
      </div>

    </form>
  </div>
</div>


